!function(t){function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}var e={};n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},n.p="",n(n.s=0)}([function(t,n,e){t.exports=e(1)},function(t,n,e){var r=e(2);r.provider("SynapsPicsConfig",e(4)),r.factory("SynapsPics",e(5)),r.directive("synapsPics",e(6)),t.exports=r},function(t,n,e){var r=e(3);t.exports=r.module("synaps.pics",[])},function(t,n){t.exports=angular},function(t,n){t.exports=function(){this.useHttps=!0,this.serviceUrl="img.synaps.pics",this.setServiceUrl=function(t){this.serviceUrl=t},this.setHttpsDisabled=function(){this.useHttps=!1},this.setHttpsEnabled=function(){this.useHttps=!0},this.$get=function(){return this}}},function(t,n){var e=function(t){var n=function(t,n,e){var r=[];return(t||n)&&(t&&r.push("w_"+t*e),n&&r.push("h_"+n*e)),r.join(",")},e=t.useHttps?"https":"http",r=e+"://"+t.serviceUrl+"/";return{getImageUrl:function(t){var e=t.retina?2:1,i=[],o=n(t.width,t.height,e);o&&i.push(o),t.crop&&i.push("c_"+t.crop),t.bg&&i.push("b_rgb:"+t.bg);var s=t.path.replace(/^\/+|\/+$/,"").split("/"),c=s.pop(),a=s.join("/");return r+a+"/"+(i.length>0?i.join(",")+"/":"")+c},getPlaceholderUrl:function(t,e,i){var o=n(t,e,i);return r+"synaps/"+o+",c_fill/default-placeholder.png"}}};e.$inject=["SynapsPicsConfig"],t.exports=e},function(t,n){var e=function(t){return{restrict:"A",scope:{image:"<synapsPics",width:"<",height:"<"},link:function(n,e,r,i){function o(t){var n="src";"asLink"in r&&(n="href"),"asAttr"in r&&(n=r.asAttr);var i=function(){"asBackground"in r?e.css("background-image","url("+t+")"):e.attr(n,t)};s?a()?i():angular.element(window).on("scroll resize",function(){a()&&(angular.element(window).off("scroll resize",this),i())}):i()}var s=(document.createElement("img"),"lazy"in r),c=function(t){var n=document.createElement("a");return n.href=t,n};n.$watch("image",function(i){var s=t.getPlaceholderUrl(n.width,n.height,"retina"in r?2:1);if(e.on("error",function(){e.off("error"),o(s)}),i){o(t.getImageUrl({path:c(i).pathname,width:n.width,height:n.height,retina:"retina"in r,crop:r.crop||"fill",bg:r.bg}))}else o(s)});var a=function(){var t=e[0],n=~~r.lazy,i=t.getBoundingClientRect().top,o=t.getBoundingClientRect().bottom;return i>=document.body.scrollTop-n&&o<=window.innerHeight}}}};e.$inject=["SynapsPics"],t.exports=e}]);